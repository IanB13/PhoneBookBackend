{"version":3,"sources":["services/phonebook.js","components/PersonForm.js","components/Filter.js","components/Numbers.js","components/Message.js","App.js","index.js"],"names":["baseUrl","getPeople","a","get","axios","response","data","deletePerson","id","person","window","confirm","deleteUrl","console","log","delete","changeNumber","newNumber","putUrl","put","number","then","catch","err","createPerson","newObject","post","PersonForm","persons","setPersons","props","newName","setNewName","setNewNumber","keyCheck","Persons","name","value","onChange","event","preventDefault","target","type","onClick","MatchPerson","undefined","phonebook","concat","setMessage","errorMessage","JSON","stringify","newSet","map","Filter","newfilter","setFilter","Number","deleteID","Numbers","filter","toLowerCase","includes","key","Response","error","Message","message","className","App","useState","useEffect","setTimeout","Phonebook","people","peopleEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ee7bcf60.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n// none of these change state\r\n\r\nconst getPeople = async () =>{\r\n    const get = axios.get(baseUrl)\r\n    const response = await get\r\n    return response.data\r\n}\r\n\r\nconst createPerson =(newObject) =>{\r\n    return axios.post(baseUrl,newObject)\r\n}\r\n\r\nconst deletePerson = (id,person) =>{\r\n    if (window.confirm(`Are you sure you want to delete ${person}`))\r\n    {\r\n    const deleteUrl = `${baseUrl}/${id}` ;\r\n    console.log(deleteUrl)\r\n    console.log(id)\r\n    return axios.delete(deleteUrl)\r\n    \r\n    }\r\n}\r\n\r\n\r\n\r\nconst changeNumber =(person,newNumber) =>{\r\n   \r\n    const putUrl = `${baseUrl}/${person.id}`\r\n    axios.put(putUrl,{...person, number :newNumber, }).then(\r\n \r\n       response => {\r\n            console.log(response.data)\r\n            }\r\n    )\r\n    .catch(\r\n        err =>{\r\n            console.log(err)\r\n        }\r\n\r\n    )\r\n    \r\n\r\n}\r\n\r\nexport default {getPeople, deletePerson, changeNumber,createPerson}","import React from 'react';\r\nimport phonebook from '../services/phonebook';\r\n\r\nconst PersonForm = ({persons,setPersons,...props}) =>{\r\n\r\n    \r\n//const persons = props.persons;\r\n//const setPersons = props.setPersons;\r\nconst newName = props.newName;\r\nconst setNewName = props.setNewName;\r\nconst newNumber = props.newNumber ;\r\nconst setNewNumber = props.setNewNumber ;\r\n\r\n\r\nconst handleNameChange = (event) => {\r\n    event.preventDefault()\r\n    setNewName(event.target.value);\r\n}\r\nconst handleNumberChange = (event) => {\r\n    event.preventDefault()\r\n    setNewNumber(event.target.value);\r\n}\r\n\r\nconst addPersontoPhoneBook = (event)=>{\r\n    event.preventDefault()\r\n    const MatchPerson = keyCheck(persons,newName);\r\n    \r\n    if( MatchPerson === undefined){\r\n    phonebook.createPerson({name: newName, number: newNumber}).then( response =>{\r\n      setPersons(persons.concat({name: newName, number: newNumber}));\r\n      setNewName(``);\r\n      setNewNumber(``);\r\n      props.setMessage(`Added ${newName}`);\r\n    }\r\n    ).catch( err =>{\r\n      console.log(err.response.data)\r\n      const errorMessage = JSON.stringify(err.response.data)\r\n      props.setMessage(errorMessage)\r\n    }\r\n    )\r\n    \r\n/*     setNewName(``);\r\n    setNewNumber(``);\r\n    props.setMessage(`Added ${newName}`); */\r\n    }\r\n    else {\r\n        if(window.confirm(`${newName} is already added to phonebook, change number?`)){\r\n          console.log(`MatchPerson is:`)\r\n          console.log(MatchPerson)\r\n          phonebook.changeNumber(MatchPerson, newNumber);\r\n          const newSet =  persons.map(person => (person.name !==newName)? person :{...person, number: newNumber} )\r\n          console.log(`new set is:`)\r\n          setPersons(newSet);\r\n          setNewName(``);\r\n          setNewNumber(``);   \r\n          props.setMessage(`Changed ${MatchPerson.name}'s number to ${newNumber}`);   \r\n        }\r\n    }\r\n  }\r\n\r\nconst keyCheck = (Persons,newName) =>{\r\n    \r\n    for(const person of Persons){\r\n      if(person.name === newName){ \r\n        return person;\r\n      }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nreturn(\r\n    <>\r\n      <form>\r\n        <div>\r\n          name: <input \r\n          value ={newName}\r\n          onChange ={handleNameChange}/>\r\n        </div>\r\n        <div>number: <input\r\n            value ={newNumber}\r\n            onChange ={handleNumberChange} \r\n        /></div>\r\n        <div>\r\n          <button type=\"submit\" onClick ={addPersontoPhoneBook}>add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n\r\n)\r\n\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\n\r\nconst Filter = ({newfilter,setFilter}) => {\r\n\r\n    const handleFilterChange = (event) => {\r\n        event.preventDefault()\r\n        setFilter(event.target.value);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            filter shown with:\r\n            <input\r\n                value={newfilter}\r\n                onChange={handleFilterChange}\r\n            />\r\n        </>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nimport phonebook from '../services/phonebook';\r\n\r\n\r\nconst Numbers = ({setPersons,setMessage, ...props}) =>{\r\nconst persons = ((props.filter===\"\")) ? props.persons : props.persons.filter(person => person.name.toLowerCase().includes(props.filter.toLowerCase()))\r\n\r\nconst deleteID = (id,name) =>{\r\n   \r\n    phonebook.deletePerson(id,name).then(\r\n        Response =>{\r\n            console.log(Response)\r\n            setPersons(persons.filter(person => (person.id !== id)))\r\n            setMessage(`${name} succesfully deleted`)\r\n        }\r\n        \r\n    ).catch( error=>{\r\n        console.log(error)\r\n        setMessage(`Error: ${name} already deleted`)\r\n    }\r\n        \r\n    )\r\n\r\n\r\n    \r\n};\r\n\r\nconst nums =() => persons.map(person =>{\r\n    return (\r\n    <Number\r\n    key = {person.name}  \r\n    name = {person.name} \r\n    number ={person.number}\r\n    deleteID = {()=>deleteID(person.id,person.name)}\r\n    />)\r\n}\r\n    )\r\n\r\n\r\n    return(\r\n        <div>\r\n        {nums()}\r\n        </div>\r\n    \r\n    )\r\n\r\n}\r\n\r\n\r\n\r\nconst Number =(props)=>{\r\n    \r\n   // console.log(props.deleteID)\r\n   // console.log(props.name)\r\n   // console.log(props.number)\r\n    return(\r\n        <div>\r\n        {props.name} {props.number} \r\n        <button onClick ={props.deleteID} > Delete </button>\r\n        </div>\r\n    )\r\n}\r\nexport default Numbers\r\n\r\n","import React from 'react'\r\n\r\nconst Message =({message}) =>{\r\n    console.log(message)\r\n\r\nif(message ===\"No Message\"){\r\nreturn null}\r\nelse if(message.includes(\"rror\")){\r\n    return(\r\n        <div className =\"error\">\r\n        {message}\r\n    </div>\r\n    )\r\n}\r\nelse{\r\n    return(\r\n        <div className =\"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n\r\n}\r\n}\r\n\r\nexport default Message","import React, { useState, useEffect } from 'react';\r\nimport PersonForm from './components/PersonForm';\r\nimport Filter from './components/Filter';\r\nimport Numbers from'./components/Numbers';\r\nimport Message from './components/Message';\r\nimport Phonebook from './services/phonebook';\r\nimport './index.css';\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]); \r\n  const [ newName, setNewName ] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [newfilter,setFilter] = useState('');\r\n  const[message,setMessage] = useState(\"No Message\");\r\n\r\n\r\n  useEffect( ()=>{\r\n    const change =() => setMessage(\"No Message\");\r\n    window.setTimeout(change,5*1000)  //5 second Message\r\n    console.log('set message use effect triggerd')\r\n    }\r\n    ,[persons])\r\n\r\n\r\n   useEffect(  ()  =>{ \r\n     async function peopleEffect(){\r\n      const people = await Phonebook.getPeople();\r\n      setPersons(people)\r\n      console.log(\"set persons use effect triggered\")\r\n     }\r\n     peopleEffect()\r\n   },[message,newName])\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <h2>Phonebook</h2>\r\n      <Message message={message} />\r\n      <Filter newfilter={newfilter} setFilter={setFilter} />\r\n\r\n      <h2>Add a New:</h2>\r\n      <PersonForm\r\n        setMessage = {setMessage}\r\n        persons={persons} setPersons={setPersons}\r\n        newName={newName} setNewName={setNewName}\r\n        newNumber={newNumber} setNewNumber={setNewNumber}\r\n      />\r\n       \r\n      <h2>Numbers</h2>\r\n        <Numbers persons={persons} \r\n        filter={newfilter} \r\n        setPersons ={setPersons}\r\n        setMessage ={setMessage}/>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\n\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}